<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Andre Boufama - Portfolio</title>
    <meta name="description" content="Andre Boufama - Mechanical Engineering Student at Cornell University. Portfolio showcasing innovative hardware projects, sustainable engineering solutions, and technical expertise.">
    <meta name="keywords" content="Andre Boufama, Mechanical Engineering, Cornell University, Engineering Portfolio, Hardware Projects, Sustainable Engineering">
    <meta name="author" content="Andre Boufama">
    
    <!-- Favicon -->
    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Crect width='100' height='100' rx='15' fill='%23000'/%3E%3Ctext x='50' y='70' font-family='Arial, sans-serif' font-size='55' font-weight='bold' fill='%23fff' text-anchor='middle'%3EAB%3C/text%3E%3C/svg%3E">
    
    <!-- Performance optimizations -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="stylesheet" href="styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Share+Tech+Mono:wght@400&display=swap" rel="stylesheet">
    
    <!-- Structured data for SEO -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "Person",
        "name": "Andre Boufama",
        "jobTitle": "Mechanical Engineering Student",
        "worksFor": {
            "@type": "Organization",
            "name": "Cornell University"
        },
        "email": "andre.boufama@gmail.com",
        "telephone": "+1-603-285-5685",
        "url": "https://www.linkedin.com/in/andre-boufama-7b2aa8240/"
    }
    </script>
</head>
<body>
    <!-- Header Section -->
    <header class="hero">
        <div class="hero-content">
            <div class="hero-text">
                <div class="hero-title-section">
                    <div class="title-wrapper">
                        <h1 class="main-title">Andre Boufama</h1>
                        <p class="subtitle">Portfolio - Some of my favorite engineering projects</p>
                    </div>
                    <div class="contact-info">
                        <a href="#" class="contact-link email-copy" aria-label="Copy email to clipboard" data-email="andre.boufama@gmail.com">
                            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true">
                                <path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"/>
                                <polyline points="22,6 12,13 2,6"/>
                            </svg>
                            andre.boufama@gmail.com
                        </a>
                        <a href="https://www.linkedin.com/in/andre-boufama-7b2aa8240/" target="_blank" class="contact-link" aria-label="Visit Andre Boufama's LinkedIn profile" rel="noopener noreferrer">
                            <svg width="18" height="18" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true">
                                <path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"/>
                            </svg>
                            LinkedIn
                        </a>
                        <a href="Resume.pdf" class="contact-link" aria-label="Download Andre Boufama's resume" target="_blank" rel="noopener noreferrer">
                            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true">
                                <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/>
                                <polyline points="14,2 14,8 20,8"/>
                                <line x1="16" y1="13" x2="8" y2="13"/>
                                <line x1="16" y1="17" x2="8" y2="17"/>
                                <polyline points="10,9 9,9 8,9"/>
                            </svg>
                            Resume
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Projects Section -->
    <main class="container">
        <!-- Hardware Section -->
        <section class="project-section">
            <h2 class="section-title">Hardware Projects <span class="section-subtitle">- [Designed Made and Tested by Me]</span></h2>
            <div class="projects-grid">
                <!-- General ISR Cicada Drone -->
                <a href="projects/drone.html" class="project-card-link" aria-label="View General ISR Cicada Drone project details" tabindex="0">
                    <div class="project-card">
                        <div class="project-image-container">
                            <img src="images/Drone.png" alt="General ISR Cicada Drone - Professional-grade ISR drone with advanced flight control systems" class="project-image" loading="lazy" width="300" height="200">
                        </div>
                        <div class="project-info">
                            <h3>General ISR "Cicada" Drone</h3>
                            <p class="project-tags">
                                <span class="tag">Finite Element Analysis</span>
                                <span class="tag">Systems Design</span>
                                <span class="tag">Fusion360</span>
                            </p>
                        </div>
                    </div>
                </a>

                <!-- AI Testbed Grasshopper -->
                <a href="projects/grasshopper.html" class="project-card-link" aria-label="View AI Testbed Grasshopper Drone project details" tabindex="0">
                    <div class="project-card">
                        <div class="project-image-container">
                            <img src="images/Grasshopper.png" alt="AI Testbed Grasshopper - AI-powered autonomous systems testbed" class="project-image" loading="lazy" width="300" height="200">
                        </div>
                        <div class="project-info">
                            <h3>AI Testbed "Grasshopper" Drone</h3>
                            <p class="project-tags">
                                <span class="tag wip-tag">Work in Progress</span>
                                <span class="tag">AI Systems</span>
                                <span class="tag">Autonomous Systems</span>
                            </p>
                        </div>
                    </div>
                </a>

                <!-- Modular Hydroponics System -->
                <a href="projects/hydroponics.html" class="project-card-link" aria-label="View Modular Hydroponics System project details" tabindex="0">
                    <div class="project-card">
                        <div class="project-image-container">
                            <img src="images/Hydroponics.png" alt="Modular Hydroponics System - Award-winning sustainable food production system" class="project-image" loading="lazy" width="300" height="200">
                        </div>
                        <div class="project-info">
                            <h3>Modular Hydroponics System</h3>
                            <p class="project-tags">
                                <span class="tag award-tag">Award Winner</span>
                                <span class="tag">Sustainability</span>
                                <span class="tag">IoT</span>
                            </p>
                        </div>
                    </div>
                </a>

                <!-- VTOL UAV -->
                <a href="projects/vtol.html" class="project-card-link" aria-label="View VTOL UAV project details" tabindex="0">
                    <div class="project-card">
                        <div class="project-image-container">
                            <img src="images/VTOL.png" alt="VTOL UAV - Vertical Takeoff and Landing unmanned aerial vehicle" class="project-image" loading="lazy" width="300" height="200">
                        </div>
                        <div class="project-info">
                            <h3>VTOL UAV</h3>
                            <p class="project-tags">
                                <span class="tag">Aerospace</span>
                                <span class="tag">Flight Control Systems</span>
                            </p>
                        </div>
                    </div>
                </a>

                <!-- VEX Robot -->
                <a href="projects/vex.html" class="project-card-link" aria-label="View World Qualifying VEX Robot project details" tabindex="0">
                    <div class="project-card">
                        <div class="project-image-container">
                            <img src="images/VEX Robot.png" alt="World Qualifying VEX Robot - Competition robot with advanced odometry and autonomous navigation" class="project-image" loading="lazy" width="300" height="200">
                        </div>
                        <div class="project-info">
                            <h3>World Qualifying VEX Robot</h3>
                            <p class="project-tags">
                                <span class="tag award-tag">Award Winner</span>
                                <span class="tag">Mechatronics</span>
                                <span class="tag">Odometry</span>
                                <span class="tag">C++</span>
                            </p>
                        </div>
                    </div>
                </a>

                <!-- Rover -->
                <a href="projects/rover.html" class="project-card-link" aria-label="View Autonomous Heavy Lift Rover project details" tabindex="0">
                    <div class="project-card">
                        <div class="project-image-container">
                            <img src="images/Rover.png" alt="Autonomous Heavy Lift Rover - Advanced rover for heavy payload transportation" class="project-image" loading="lazy" width="300" height="200">
                        </div>
                        <div class="project-info">
                            <h3>Autonomous Heavy Lift Rover</h3>
                            <p class="project-tags">
                                <span class="tag">Mechatronics</span>
                                <span class="tag">Autonomous Navigation</span>
                            </p>
                        </div>
                    </div>
                </a>

                <!-- CoreXY 3D Printer -->
                <a href="projects/3dprinter.html" class="project-card-link" aria-label="View Large format FDM 3D Printer project details" tabindex="0">
                    <div class="project-card">
                        <div class="project-image-container">
                            <img src="images/3DPrinter.png" alt="Large format FDM 3D Printer - Custom CoreXY design donated to Berwick Academy" class="project-image printer-image" loading="lazy" width="300" height="200">
                        </div>
                        <div class="project-info">
                            <h3>Large format FDM 3D Printer</h3>
                            <p class="project-tags">
                                <span class="tag">Python</span>
                                <span class="tag">Precision Engineering</span>
                                <span class="tag">Mains Voltage Wiring</span>
                            </p>
                        </div>
                    </div>
                </a>

                <!-- Automatic Chicken Coop Door -->
                <a href="projects/chickencoop.html" class="project-card-link" aria-label="View Automatic Chicken Coop Door project details" tabindex="0">
                    <div class="project-card">
                        <div class="project-image-container">
                            <img src="images/ChickenDoor.png" alt="Automatic Chicken Coop Door - IoT-enabled automated door system" class="project-image" loading="lazy" width="300" height="200">
                        </div>
                        <div class="project-info">
                            <h3>Automatic Chicken Coop Door</h3>
                            <p class="project-tags">
                                <span class="tag">Python</span>
                                <span class="tag">IoT</span>
                                <span class="tag">Sensor Integration</span>
                            </p>
                        </div>
                    </div>
                </a>
            </div>
        </section>

        <!-- Design Section -->
        <section class="project-section">
            <h2 class="section-title">Design Projects <span class="section-subtitle">- [Designed and Rendered by Me]</span></h2>
            <div class="projects-grid">
                <!-- Overpass Oasis -->
                <a href="projects/overpass.html" class="project-card-link" aria-label="View Suspension Bridge Pedestrian Walkway project details" tabindex="0">
                    <div class="project-card">
                        <div class="project-image-container">
                            <img src="images/OverpassOasis.png" alt="Suspension Bridge Pedestrian Walkway - Innovative bridge design with structural analysis" class="project-image" loading="lazy" width="300" height="200">
                        </div>
                        <div class="project-info">
                            <h3>Suspension Bridge Pedestrian Walkway</h3>
                            <p class="project-tags">
                                <span class="tag award-tag">Award Winner</span>
                                <span class="tag">Finite Element Analysis</span>
                                <span class="tag">Fusion360</span>
                                <span class="tag">Blender</span>
                            </p>
                        </div>
                    </div>
                </a>

                <!-- Genie RAG Agent -->
                <a href="projects/genie.html" class="project-card-link" aria-label="View RAG LLM for Inventory Management project details" tabindex="0">
                    <div class="project-card">
                        <div class="project-image-container">
                            <img src="images/GenieChatbot.png" alt="RAG LLM for Inventory Management - AI-powered inventory system with fine-tuned models" class="project-image" loading="lazy" width="300" height="200">
                        </div>
                        <div class="project-info">
                            <h3>RAG LLM for Inventory</h3>
                            <p class="project-tags">
                                <span class="tag">Databricks</span>
                                <span class="tag">LLM Fine Tuning</span>
                            </p>
                        </div>
                    </div>
                </a>

                <!-- Sustainable Greenhouse Design -->
                <a href="projects/greenhouse.html" class="project-card-link" aria-label="View Sustainable Greenhouse Design project details" tabindex="0">
                    <div class="project-card">
                        <div class="project-image-container">
                            <img src="images/greenhouse.png" alt="Sustainable Greenhouse Design - Fogg Field greenhouse and recreation facility" class="project-image" loading="lazy" width="300" height="200">
                        </div>
                        <div class="project-info">
                            <h3>Sustainable Greenhouse Design</h3>
                            <p class="project-tags">
                                <span class="tag">Systems Design</span>
                                <span class="tag">Sustainability</span>
                                <span class="tag">Fusion360</span>
                                <span class="tag">Blender</span>
                            </p>
                        </div>
                    </div>
                </a>
            </div>
        </section>
    </main>

    <!-- Skills Section -->
    <section class="skills-section" aria-label="Technical Skills">
        <div class="container">
            <h2 class="section-title">Skills</h2>
            <div class="skills-grid" role="list" aria-label="Skills categories">
                <div class="skill-category">
                    <h3>Programming</h3>
                    <p>Python, C#, C/C++, HTML/CSS, JavaScript, React Native</p>
                </div>
                <div class="skill-category">
                    <h3>CAD & 3D Design</h3>
                    <p>Autodesk Fusion 360, Blender</p>
                </div>
                <div class="skill-category">
                    <h3>Hardware</h3>
                    <p>Raspberry Pi, Arduino, VTOL UAV Build</p>
                </div>
                <div class="skill-category">
                    <h3>Data Engineering</h3>
                    <p>Azure SQL, Jupyter Notebook, Pandas, Databricks</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Bio Section -->
    <section class="bio-section">
        <div class="container">
            <div class="bio-content">
                <div class="bio-image">
                    <img src="images/Headshot.png" alt="Andre Boufama professional headshot" class="bio-headshot" loading="lazy" width="200" height="200">
                </div>
                <div class="bio-text">
                    <p>I'm a MechE student at <span class="cornell-text">Cornell University</span>. When I'm not working on my projects, I'm probably skiing, golfing, watching movies, or eating a lot of food :)</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer>
        <div class="container">
        </div>
    </footer>

    <script>
        // Email copy to clipboard functionality
        document.addEventListener('DOMContentLoaded', function() {
            const emailCopyLinks = document.querySelectorAll('.email-copy');
            emailCopyLinks.forEach(link => {
                link.addEventListener('click', function(e) {
                    e.preventDefault();
                    const email = this.getAttribute('data-email');
                    
                    // Copy to clipboard
                    navigator.clipboard.writeText(email).then(() => {
                        showCopyIndicator(this);
                    }).catch(err => {
                        console.error('Failed to copy email: ', err);
                        // Fallback for older browsers
                        const textArea = document.createElement('textarea');
                        textArea.value = email;
                        document.body.appendChild(textArea);
                        textArea.select();
                        document.execCommand('copy');
                        document.body.removeChild(textArea);
                        
                        showCopyIndicator(this);
                    });
                });
            });
            
            function showCopyIndicator(element) {
                // Create popup indicator
                const indicator = document.createElement('div');
                indicator.textContent = 'Copied!';
                indicator.style.position = 'absolute';
                indicator.style.top = '50%';
                indicator.style.right = '100%';
                indicator.style.transform = 'translateY(-50%)';
                indicator.style.marginRight = '8px';
                indicator.style.backgroundColor = 'var(--card-bg)';
                indicator.style.color = 'var(--text-primary)';
                indicator.style.padding = '2px 6px';
                indicator.style.borderRadius = '3px';
                indicator.style.fontSize = '0.65rem';
                indicator.style.border = 'none';
                indicator.style.boxShadow = '0 1px 4px rgba(0, 0, 0, 0.1)';
                indicator.style.pointerEvents = 'none';
                indicator.style.zIndex = '1000';
                indicator.style.opacity = '0';
                indicator.style.transition = 'opacity 0.2s ease';
                indicator.style.whiteSpace = 'nowrap';
                
                // Position relative to the clicked element
                element.style.position = 'relative';
                element.appendChild(indicator);
                
                // Show indicator
                requestAnimationFrame(() => {
                    indicator.style.opacity = '1';
                });
                
                // Remove after 1.5 seconds
                setTimeout(() => {
                    indicator.style.opacity = '0';
                    setTimeout(() => {
                        if (indicator.parentNode) {
                            indicator.parentNode.removeChild(indicator);
                        }
                    }, 200);
                }, 1500);
            }
        });

        // Mouse-following glow effect for main title
        document.addEventListener('DOMContentLoaded', function() {
            const mainTitle = document.querySelector('.main-title');
            if (mainTitle) {
                // Create glow element
                const glowElement = document.createElement('div');
                glowElement.style.position = 'absolute';
                glowElement.style.width = '300px';
                glowElement.style.height = '300px';
                glowElement.style.background = 'radial-gradient(circle, rgba(255, 255, 255, 0.6) 0%, rgba(255, 255, 255, 0.2) 30%, transparent 70%)';
                glowElement.style.borderRadius = '50%';
                glowElement.style.pointerEvents = 'none';
                glowElement.style.zIndex = '1';
                glowElement.style.transition = 'opacity 0.2s ease-out';
                glowElement.style.opacity = '0';
                glowElement.style.transform = 'translate(-50%, -50%)';
                
                mainTitle.style.position = 'relative';
                mainTitle.style.zIndex = '2';
                mainTitle.appendChild(glowElement);
                
                // Mouse move handler
                mainTitle.addEventListener('mousemove', function(e) {
                    const rect = mainTitle.getBoundingClientRect();
                    const x = e.clientX - rect.left;
                    const y = e.clientY - rect.top;
                    
                    glowElement.style.left = x + 'px';
                    glowElement.style.top = y + 'px';
                    glowElement.style.opacity = '1';
                });
                
                mainTitle.addEventListener('mouseleave', function() {
                    glowElement.style.opacity = '0';
                });
            }
        });

        // Project card expansion system - COMPLETE REWRITE
        let activeProject = null;
        const overlay = document.createElement('div');
        overlay.className = 'project-overlay';
        document.body.appendChild(overlay);

        document.querySelectorAll('.project-card-link').forEach(link => {
            // Handle both click and keyboard events
            const handleProjectOpen = (e) => {
                // Allow keyboard activation with Enter or Space
                if (e.type === 'keydown' && e.key !== 'Enter' && e.key !== ' ') {
                    return;
                }
                e.preventDefault();
                
                if (activeProject) return;
                
                const card = link.querySelector('.project-card');
                const rect = card.getBoundingClientRect();
                
                // Store original position for reverse animation
                const originalTransform = card.style.transform;
                const originalPosition = {
                    left: rect.left,
                    top: rect.top,
                    width: rect.width,
                    height: rect.height
                };
                
                // Freeze page (prevent layout shift by compensating scrollbar width)
                const scrollbarWidth = window.innerWidth - document.documentElement.clientWidth;
                if (scrollbarWidth > 0) {
                    document.body.style.paddingRight = scrollbarWidth + 'px';
                }
                document.body.style.overflow = 'hidden';
                overlay.classList.add('active');
                
                // Keep card visible and make non-interactable
                link.style.opacity = '1';
                link.style.zIndex = '1001';
                link.style.pointerEvents = 'none';
                
                // Add subtle hover effect to indicate interactivity
                card.style.cursor = 'pointer';
                
                // Fade everything else (but NOT the selected card or its parent section)
                setTimeout(() => {
                    document.querySelectorAll('.project-card-link').forEach(otherLink => {
                        if (otherLink !== link) {
                            otherLink.style.opacity = '0';
                        }
                    });
                    const hero = document.querySelector('.hero');
                    const skills = document.querySelector('.skills-section');
                    if (hero) hero.style.opacity = '0';
                    if (skills) skills.style.opacity = '0';
                    document.querySelectorAll('.section').forEach(section => {
                        if (!section.contains(link)) {
                            section.style.opacity = '0';
                        }
                    });
                }, 50);
                
                // Scale and center card
                setTimeout(() => {
                    card.classList.add('active');
                    // Ensure card stays above all fades
                    card.style.position = 'relative';
                    card.style.zIndex = '1003';
                    card.style.willChange = 'transform';
                    
                    const cardCenterX = rect.left + rect.width / 2;
                    const cardCenterY = rect.top + rect.height / 2;
                    const arrowWidth = 50;
                    const gap = 15;
                    const topLeftX = 30 + arrowWidth + gap; // Position card to the right of arrow
                    const topLeftY = 50; // Position card 50px from top edge
                    const offsetX = topLeftX - rect.left;
                    const offsetY = topLeftY - rect.top;
                    
                    card.style.transform = `translate(${offsetX}px, ${offsetY}px) scale(1.15)`;

                    // Create vertical gallery system - wait for card animation to complete
                    setTimeout(async () => {
                        await createProjectGallery(link, card, topLeftX, topLeftY, rect);
                    }, 600); // Wait for card animation duration

                    activeProject = { 
                        card, 
                        link, 
                        gallery: null,
                        backButton: null,
                        projectDetails: null,
                        originalTransform,
                        originalPosition 
                    };
                }, 100);
            };
            
            // Add both click and keyboard event listeners
            link.addEventListener('click', handleProjectOpen);
            link.addEventListener('keydown', handleProjectOpen);
        });
        
        // Close functionality
        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape' && activeProject) {
                // Fade out project details and back button first
                if (activeProject.projectDetails) {
                    activeProject.projectDetails.style.transition = 'opacity 0.2s ease';
                    activeProject.projectDetails.style.opacity = '0';
                }
                if (activeProject.backButton) {
                    activeProject.backButton.style.transition = 'opacity 0.2s ease';
                    activeProject.backButton.style.opacity = '0';
                }
                
                // Roll up gallery after fade starts
                setTimeout(() => {
                    if (activeProject.gallery) {
                        activeProject.gallery.style.transition = 'height 0.3s ease-in';
                        activeProject.gallery.style.height = '0';
                        activeProject.gallery.style.overflowY = 'hidden';
                    }
                    
                    // Close project after roll-up completes
                    setTimeout(() => {
                        closeProject();
                    }, 300);
                }, 50);
            }
        });
        
        function closeProject() {
            if (!activeProject) return;
            
            // Remove gallery, back button, and project details immediately
            if (activeProject.gallery) {
                activeProject.gallery.remove();
            }
            if (activeProject.backButton) {
                activeProject.backButton.remove();
            }
            if (activeProject.projectDetails) {
                activeProject.projectDetails.remove();
            }
            
            // Reverse: keep card on top, move back first
            activeProject.link.style.zIndex = '1001';
            activeProject.card.style.position = 'relative';
            activeProject.card.style.zIndex = '1003';
            activeProject.card.classList.remove('active');
            activeProject.card.style.transform = activeProject.originalTransform;

            const onTransitionEnd = (ev) => {
                if (ev.propertyName !== 'transform') return;
                activeProject.card.removeEventListener('transitionend', onTransitionEnd);
                
                // Fade everything back in only after transform completes
                document.querySelectorAll('.project-card-link').forEach(otherLink => {
                    if (otherLink !== activeProject.link) {
                        otherLink.style.opacity = '1';
                    }
                });
                const hero = document.querySelector('.hero');
                const skills = document.querySelector('.skills-section');
                if (hero) hero.style.opacity = '1';
                if (skills) skills.style.opacity = '1';
                document.querySelectorAll('.section').forEach(section => {
                    // Do not touch the section containing the active link to avoid flash
                    if (!section.contains(activeProject.link)) {
                        section.style.opacity = '1';
                    }
                });
                
                // Smoothly fade overlay away beneath the card to avoid flash
                overlay.style.backgroundColor = 'transparent';
                const onOverlayFade = () => {
                    overlay.removeEventListener('transitionend', onOverlayFade);
                    // Reset link and overlay after overlay is fully transparent
                    activeProject.link.style.pointerEvents = '';
                    activeProject.link.style.zIndex = '';
                    activeProject.card.style.position = '';
                    activeProject.card.style.zIndex = '';
                    activeProject.card.style.willChange = '';
                    overlay.classList.remove('active');
                    overlay.style.backgroundColor = '';
                    document.body.style.overflow = '';
                    document.body.style.paddingRight = '';
                    activeProject = null;
                };
                overlay.addEventListener('transitionend', onOverlayFade);
            };
            
            // Attach listener to ensure we mirror the forward animation timing
            activeProject.card.addEventListener('transitionend', onTransitionEnd);
        }
        
        // Gallery creation function
        async function createProjectGallery(link, card, topLeftX, topLeftY, rect) {
            // Get project name from link href
            const projectPath = link.getAttribute('href');
            const projectName = projectPath.split('/').pop().replace('.html', '');
            
            // Create gallery container
            const gallery = document.createElement('div');
            gallery.className = 'project-gallery';
            gallery.style.position = 'fixed';
            gallery.style.top = '0';
            gallery.style.left = '0';
            gallery.style.width = '100%';
            gallery.style.height = '0'; // Start with no height
            gallery.style.overflowY = 'hidden'; // Hide overflow during animation
            gallery.style.overflowX = 'hidden';
            gallery.style.zIndex = '1000';
            gallery.style.backgroundColor = 'transparent';
            gallery.style.paddingTop = (topLeftY + rect.height * 1.15 + 20) + 'px'; // Start below main card
            // Account for scaling offset - card's visual left edge after scaling
            const cardVisualLeft = topLeftX - (rect.width * 0.15) / 2; // Subtract half the width increase from scaling
            gallery.style.paddingLeft = cardVisualLeft + 'px';
            gallery.style.display = 'block';
            gallery.style.transition = 'height 0.4s ease-out'; // Smooth height animation
            
            // Add fade effect near main card - start 30px below bottom edge of card
            const cardBottomEdge = rect.height * 1.15; // Bottom edge of scaled card
            const fadeStart = cardBottomEdge + 30; // 30px below bottom edge
            const fadeDistance = 20; // pixels for fade
            const fadeEnd = fadeStart + fadeDistance;
            // Don't apply mask during height animation - will be applied after
            
            // Hide scrollbar
            gallery.style.scrollbarWidth = 'none'; // Firefox
            gallery.style.msOverflowStyle = 'none'; // IE/Edge
            gallery.style.webkitScrollbar = 'none'; // Webkit
            
            // Create gallery content (images only)
            const galleryContent = document.createElement('div');
            galleryContent.style.display = 'flex';
            galleryContent.style.flexDirection = 'column';
            galleryContent.style.gap = '2rem';
            galleryContent.style.width = (rect.width * 1.15) + 'px';
            
            // Don't add the main card - it's already positioned above
            
            // Load additional images for this project
            await loadProjectImages(projectName, galleryContent);
            
            gallery.appendChild(galleryContent);
            document.body.appendChild(gallery);
            
            // Create project details section (separate from gallery)
            const projectDetails = document.createElement('div');
            projectDetails.className = 'project-details';
            projectDetails.style.position = 'fixed';
            // Calculate position to align project details text with card's top border
            const projectDetailsPadding = 32; // 2rem = 32px
            const scaledHeight = rect.height * 1.15;
            const heightIncrease = scaledHeight - rect.height;
            const visualTopY = topLeftY - (heightIncrease / 2);
            // Position container so text content aligns with card's top border
            projectDetails.style.top = '20px';
            projectDetails.style.left = (cardVisualLeft + rect.width * 1.15 + 30) + 'px'; // To the right of card
            projectDetails.style.right = '0'; // Stretch to right edge of screen
            projectDetails.style.maxHeight = '90vh';
            projectDetails.style.overflowY = 'auto';
            projectDetails.style.scrollbarWidth = 'none'; // Firefox
            projectDetails.style.msOverflowStyle = 'none'; // IE/Edge
            projectDetails.style.webkitScrollbar = 'none'; // Webkit
            projectDetails.style.zIndex = '1001';
            projectDetails.style.padding = '1.5rem';
            projectDetails.style.backgroundColor = 'transparent';
            
            // Add project details content based on project
            let projectContent = getProjectDetails(projectName);
            const scrollHintHtml = `
                <div style="background: rgba(0, 0, 0, 0.05); border-radius: 4px; padding: 0.5rem 0.75rem; margin-bottom: 1rem; font-size: 0.85rem; color: var(--text-muted); display: flex; align-items: center; gap: 0.5rem;">
                    <div style="animation: bounce 2s infinite;">↓</div>
                    <span>Scroll down to see more details</span>
                </div>
            `;
            if (!projectContent.includes('Scroll down to see more details')) {
                projectContent = scrollHintHtml + projectContent;
            }
            projectDetails.innerHTML = projectContent;
            projectDetails.style.opacity = '0';
            projectDetails.style.transition = 'opacity 0.4s ease';
            
            document.body.appendChild(projectDetails);
            
            // Animate gallery unrolling from card
            requestAnimationFrame(() => {
                // Ensure DOM is ready before triggering height animation
                setTimeout(() => {
                    gallery.style.height = '100%'; // Expand to full height
                    gallery.style.overflowY = 'auto'; // Enable scrolling after animation
                }, 10);
                
                // Fade in project details
                setTimeout(() => {
                    projectDetails.style.opacity = '1';
                }, 200);
                
                // Apply fade mask after height animation completes
                setTimeout(() => {
                    gallery.style.maskImage = `linear-gradient(to bottom, transparent 0%, transparent ${fadeStart}px, black ${fadeEnd}px, black 100%)`;
                    gallery.style.webkitMaskImage = `linear-gradient(to bottom, transparent 0%, transparent ${fadeStart}px, black ${fadeEnd}px, black 100%)`;
                }, 410); // Wait for height animation to complete (400ms + 10ms delay)
            });
            
            // Add back button
            const backButton = document.createElement('div');
            backButton.className = 'back-button';
            backButton.innerHTML = '←';
            backButton.style.position = 'fixed';
            backButton.style.top = (topLeftY - 19) + 'px';
            backButton.style.left = '15px';
            backButton.style.width = '40px';
            backButton.style.height = '40px';
            backButton.style.backgroundColor = 'var(--card-bg)';
            backButton.style.borderRadius = '50%';
            backButton.style.border = '1px solid var(--border-color)';
            backButton.style.display = 'flex';
            backButton.style.alignItems = 'center';
            backButton.style.justifyContent = 'center';
            backButton.style.fontSize = '20px';
            backButton.style.fontWeight = '400';
            backButton.style.color = 'var(--text-primary)';
            backButton.style.cursor = 'pointer';
            backButton.style.zIndex = '1002';
            backButton.style.opacity = '0';
            backButton.style.transition = 'opacity 0.25s ease, color 0.15s ease, background-color 0.15s ease, transform 0.15s ease';
            backButton.style.boxShadow = '0 2px 8px rgba(0, 0, 0, 0.1)';
            document.body.appendChild(backButton);
            
            // Fade in back button
            requestAnimationFrame(() => {
                backButton.style.opacity = '1';
            });
            
            backButton.addEventListener('click', () => {
                // Fade out project details and back button first
                if (activeProject.projectDetails) {
                    activeProject.projectDetails.style.transition = 'opacity 0.2s ease';
                    activeProject.projectDetails.style.opacity = '0';
                }
                if (activeProject.backButton) {
                    activeProject.backButton.style.transition = 'opacity 0.2s ease';
                    activeProject.backButton.style.opacity = '0';
                }
                
                // Roll up gallery after fade starts
                setTimeout(() => {
                    if (activeProject.gallery) {
                        activeProject.gallery.style.transition = 'height 0.3s ease-in';
                        activeProject.gallery.style.height = '0';
                        activeProject.gallery.style.overflowY = 'hidden';
                    }
                    
                    // Close project after roll-up completes
                    setTimeout(() => {
                        closeProject();
                    }, 300);
                }, 50);
            });
            
            backButton.addEventListener('mouseenter', () => {
                backButton.style.color = 'var(--text-primary)';
                backButton.style.backgroundColor = 'var(--darker-bg)';
                backButton.style.transform = 'scale(1.05)';
            });
            
            backButton.addEventListener('mouseleave', () => {
                backButton.style.color = 'var(--text-primary)';
                backButton.style.backgroundColor = 'var(--card-bg)';
                backButton.style.transform = 'scale(1)';
            });
            
            // Store references
            activeProject.gallery = gallery;
            activeProject.backButton = backButton;
            activeProject.projectDetails = projectDetails;
        }
        
        // Get project details function
        function getProjectDetails(projectName) {
            const projectDetails = {
                '3dprinter': `
                    <h3 style="font-size: 1.2rem; font-weight: 400; color: var(--text-primary); margin-bottom: 0.8rem;">Summary</h3>
                    <p style="color: var(--text-secondary); line-height: 1.6; margin-bottom: 1.5rem;">I've been very interested in 3D printers ever since my school makerspace let me use the machines. After printing out some of my past projects, I looked more into the printers themselves and tried to look for ways to improve them. This led me into the rabbit hole of FDM printer design. I researched countless open source 3D printers and looked for ways to make them cheaper and more suited to my needs.</p>
                    
                    <p style="color: var(--text-secondary); line-height: 1.6; margin-bottom: 1.5rem;">I ended up making a modified open source printer (the V-Core 3) and scaling it up to have a 500x500x500mm print bed. A very important part of printer design is making sure the frame, and especially the gantry, is square. This was extremely hard to do in a garage without any precision surfaces for aluminum extrusions spanning more than 700mm each. After assembling and disassembling the frame nearly ten times, I was finally fine with the squareness. By this time, I was already late in my senior year of high school, and was thinking about the future of machines. I knew my parents wouldn't really have any use for it, so I donated it to my school makerspace after making sure to cover all the mains wiring with a 3D printed fan cooled case.</p>
                    
                    <h3 style="font-size: 1.1rem; font-weight: 400; color: var(--text-muted); margin-bottom: 0.8rem;">Details</h3>
                    <p style="color: var(--text-muted); line-height: 1.6; margin-bottom: 1rem; font-size: 0.9rem;">Custom-designed large-scale CoreXY FDM 3D printer running Klipper firmware. Technical specifications include a CoreXY motion system for improved print quality and reduced moving mass, large format build volume (500x500x500mm) for oversized prints, Python-based control system with custom firmware modifications, dual gear extruder with direct drive for precise filament control, heated bed with PEI print surface for excellent adhesion, linear rails and precision lead screws for smooth motion, and enclosed design with temperature control and filtration for more demanding materials.</p>
                    
                    <p style="color: var(--text-muted); line-height: 1.6; margin-bottom: 1rem; font-size: 0.9rem;">This printer was designed based on the V-Core 3 3D printer. Using Autodesk Fusion 360, many modifications were applied to the original design. I swapped out extrusions with carbon fiber tubes to decrease weight, changed the linear rails used on all axes, and swapped the extruder wires for a custom USB can bus toolboard pcb. The extruder assembly was rebuilt from the ground up. Using a metal 3D printing service, I remodeled all extruder parts in titanium to save weight and boost rigidity, while also providing temperature resistance.</p>
                    
                    <p style="color: var(--text-muted); line-height: 1.6; margin-bottom: 1rem; font-size: 0.9rem;">Mains wiring can be very dangerous so I was very careful to ground the frame and ensure every operation I did was correct with an electrician friend of mine. Using DIN rails to divide high voltage and low voltage sections, I created a fully enclosed electronics bay with large cooling fans and filters to prevent kids from reaching into the wiring. Successfully donated to Berwick Academy makerspace and trained the people working there, providing students with access to large-format 3D printing capabilities. The printer has been used for various educational projects including architectural models, engineering prototypes, and art installations. It has significantly expanded the school's prototyping capabilities by allowing students to print objects as large as they want.</p>
                `,
                'hydroponics': `
                    <h3 style="font-size: 1.2rem; font-weight: 400; color: var(--text-primary); margin-bottom: 0.8rem;">Summary</h3>
                    <p style="color: var(--text-secondary); line-height: 1.6; margin-bottom: 1.5rem;">My goal for this project was to make an innovative hydroponics system. I prioritized modularity because I wanted my system to be used as a tool for educators to teach about the technology. There could be many branches mounted on a central trunk, you could have two branches when you're teaching students about the system, and then put on ten more when you want to grow a larger volume of plants.</p>
                    
                    <p style="color: var(--text-secondary); line-height: 1.6; margin-bottom: 1.5rem;">My favorite part of the project was working on the quick disconnect branch joints. The requirements for this joint was to support a few plant pots, be easy and intuitive to connect and disconnect, and most importantly, connect water flow to the central water line when attached and cut off water flow when detached. I achieved this by mounting a quick disconnect pipe component to a 3d printed mounting plate, which was epoxied to a PVC pipe.</p>
                    
                    <p style="color: var(--text-secondary); line-height: 1.6; margin-bottom: 1.5rem;">Since there was a pump pushing water up the central stalk into the branches, we wanted to see how well nutrients could be distributed in our system. We did an experiment where by dropping food dye into the bottom basin, we waited until the water turned a uniform shade.</p>
                    
                    <h3 style="font-size: 1.1rem; font-weight: 400; color: var(--text-muted); margin-bottom: 0.8rem;">Details</h3>
                    <p style="color: var(--text-muted); line-height: 1.6; margin-bottom: 1rem; font-size: 0.9rem;">This award-winning modular hydroponics system was designed for sustainable food production and educational use. <a href="https://www.instructables.com/Top-Instructables-of-2024/" target="_blank" rel="noopener noreferrer" style="background: rgba(38, 161, 105, 0.2); padding: 0.1rem 0.3rem; border-radius: 3px; color: var(--success-color); font-weight: 500; text-decoration: none;">Featured in top Instructables designs for 2024</a> and <a href="https://www.instructables.com/contest/greenfuture/" target="_blank" rel="noopener noreferrer" style="background: rgba(38, 161, 105, 0.2); padding: 0.1rem 0.3rem; border-radius: 3px; color: var(--success-color); font-weight: 500; text-decoration: none;">First Prize Winner in the Green Future Design Contest</a>. Built as part of my "Engineering for the Future" class, the system features a tree-like structure with removable branch modules for easy maintenance and expansion.</p>
                    
                    <p style="color: var(--text-muted); line-height: 1.6; margin-bottom: 1rem; font-size: 0.9rem;">The tree-inspired architecture uses a 4" central PVC trunk with 3" branch modules connected via quick-disconnect joints that enable easy cleaning and maintenance. The modular design allows for scalable expansion and customization, with 3D-printed components using PETG filament for watertight seals. A fountain-style water circulation system provides both functionality and aesthetic appeal.</p>
                    
                    <p style="color: var(--text-muted); line-height: 1.6; margin-bottom: 1rem; font-size: 0.9rem;">Technical features include an Arduino-based monitoring system with temperature sensors, custom-designed plant holders with Rockwool growing medium, water circulation pump with emergency drainage system, and precision-drilled holes sealed with marine sealant for leak prevention. The compact 2x2x2' footprint makes it suitable for educational environments.</p>
                    
                    <p style="color: var(--text-muted); line-height: 1.6; margin-bottom: 1rem; font-size: 0.9rem;">Hydroponics systems use up to 95% less water than traditional agriculture while enabling year-round growing seasons. This system reduces food travel distances and provides fresh produce in urban environments, making it ideal for schools and educational facilities. Inspired by a local aquaponics farm visit, I designed this system using Fusion 360 and conducted extensive testing to ensure watertight seals. The project involved multiple prototyping iterations and rigorous leak testing, resulting in a fully functional educational hydroponics system.</p>
                `,
                'vex': `
                    <h3 style="font-size: 1.2rem; font-weight: 400; color: var(--text-primary); margin-bottom: 0.8rem;">Summary</h3>
                    <p style="color: var(--text-secondary); line-height: 1.6; margin-bottom: 1.5rem;">Robotic competitions are something I've been involved in since elementary school. I started with FIRST robotics, then progressed to VEX IQ in middle school, and VEX EDR in high school. No matter what age or medium these competitions were in, I loved designing and watching my robot perform out on the playing field.</p>
                    
                    <p style="color: var(--text-secondary); line-height: 1.6; margin-bottom: 1.5rem;">This robot design is the one though all the years I am most proud of. I was on a duo team during the Covid-19 epidemic with my good friend Kelly. She focused more on the software side and I was in charge of designing and building the robot. This is actually the only project on this list where I didn't use fusion to CAD the robot beforehand. I prefer working with sketches and my hands for these types of builds, since the parts we use are not custom, and can be taken apart and put back together in different ways like legos.</p>
                    
                    <p style="color: var(--text-secondary); line-height: 1.6; margin-bottom: 1.5rem;">I had a lot of fun working with ratcheting systems and having two motors create four output possibilities depending on their rotation direction. We were able to qualify for the world finals that year, and we placed number one in our state.</p>
                    
                    <h3 style="font-size: 1.1rem; font-weight: 400; color: var(--text-muted); margin-bottom: 0.8rem;">Details</h3>
                    <p style="color: var(--text-muted); line-height: 1.6; margin-bottom: 1rem; font-size: 0.9rem;">Competition robot designed for VEX Change Up competition. Features advanced odometry, autonomous navigation, and precision manipulation systems programmed in C++. The mechanical design includes an advanced odometry system using two encoders and gyroscope for precise positioning. The X drive configuration allows for movement in any direction along the xy plane and rotation at the same time. A fine tuned ball intake with ratchets allows for two motors to create two separate ball paths without a loss of processing speed, with custom gear ratios for optimal speed and torque balance.</p>
                    
                    <p style="color: var(--text-muted); line-height: 1.6; margin-bottom: 1rem; font-size: 0.9rem;">The robot's software is built on C++ architecture. The controls for the remote controlled portion of the competition are relatively simple, but the autonomous section enables more complex code. Using two encoders with omni wheels positioned at a right angle from each other combined with a gyroscopic sensor, we could approximate every motion of the robot as a combination of arcs. By adding these tiny arcs in relation to the global xy plane, we can always know the physical position and rotation of the robot on the 2D arena. In conjunction with PID controls, we can maximize our robot speed while always being able to course correct.</p>
                    
                    <p style="color: var(--text-muted); line-height: 1.6; margin-bottom: 1rem; font-size: 0.9rem;">The competition was moved online this year due to covid, but our robot placed number 1 in my home state, allowing us to qualify for the world championship, which also took place online.</p>
                `,
                'drone': `
                    <h3 style="font-size: 1.2rem; font-weight: 400; color: var(--text-primary); margin-bottom: 0.8rem;">Summary</h3>
                    <p style="color: var(--text-secondary); line-height: 1.6; margin-bottom: 1.5rem;">As you can probably tell from my other projects, I'm very interested in drone design. After starting the Cornell Physical Intelligence club, I wanted to pivot our hardware to have a focus on autonomous flying vehicles. This first design (Cicada) was made for surveillance and search and rescue. It's a simple 550mm wheelbase quadcopter with sleek covers for all the components. We've since moved on from this concept, but I still thought the design looked slick.</p>
                    
                    <h3 style="font-size: 1.1rem; font-weight: 400; color: var(--text-muted); margin-bottom: 0.8rem;">Details</h3>
                    <p style="color: var(--text-muted); line-height: 1.6; margin-bottom: 1rem; font-size: 0.9rem;">Professional-grade Intelligence, Surveillance, and Reconnaissance (ISR) quadcopter designed for outdoor operations with advanced flight control systems, payload capacity, and autonomy. Features include finite element analysis for structural optimization and weight reduction, carbon fiber frame with titanium mounting points for durability, flight controller that connects to raspberry pi for ROS 2, advanced battery management system for extended flight time, and extremely lightweight novel frame allowing for arm mounting hardware to also add rigidity to the baseplate.</p>
                    
                    <p style="color: var(--text-muted); line-height: 1.6; margin-bottom: 1rem; font-size: 0.9rem;">The drone was designed over five iterations in fusion and is still in development. The drone pictured has not been manufactured but the testbed for the electronics has been made and is running with the same motors and battery. The core design is built upon a single 4mm carbon fiber sheet cut to size connected by clamps which secure the arms and also add rigidity to the frame. This allows for the frame not including motors to be under 200g, enabling flight times of well over one hour.</p>
                    
                    <p style="color: var(--text-muted); line-height: 1.6; margin-bottom: 1rem; font-size: 0.9rem;">Although this specific design isn't compact, we want to make the next iteration foldable for easier deployment and transportation. This specific quadcopter has the goal of being a testbed for our autonomous systems while we make more and more of the drone in house and move away from off the shelf parts. The drone render shown is not completely done in house but it's a stepping stone between the pictured test bed and the final product.</p>
                `,
                'rover': `
                    <h3 style="font-size: 1.2rem; font-weight: 400; color: var(--text-primary); margin-bottom: 0.8rem;">Summary</h3>
                    <p style="color: var(--text-secondary); line-height: 1.6; margin-bottom: 1.5rem;">I was browsing youtube one day and stumbled upon the URC (University Rover Challenge). I saw some absolutely amazing designs for rovers, and wanted to make one myself as a general purpose data collection rover platform. After researching different powertrains and suspension methods, I ended up designing a novel independent front/back rocker system, which removed the need for a linkage bar between the sides of the rover.</p>
                    
                    <p style="color: var(--text-secondary); line-height: 1.6; margin-bottom: 1.5rem;">My favorite part of this design was creating the four bar linkage systems for the two sets of front wheels. Using a set of thrust and axial bearings, I overengineered the front wheel mounts, to be able to handle hundreds of points of shear load. Although I never tested them to that limit, I did accidentally perform a stress test while presenting my project at an MIT conference. I was holding the 40-pound rover when I tripped and fell forward, dropping it onto the ground right on its wheels. Nothing broke, so I'd say it's pretty robust.</p>
                    
                    <h3 style="font-size: 1.1rem; font-weight: 400; color: var(--text-muted); margin-bottom: 0.8rem;">Details</h3>
                    <p style="color: var(--text-muted); line-height: 1.6; margin-bottom: 1rem; font-size: 0.9rem;">Advanced autonomous rover designed for heavy payload transportation and manipulation in challenging terrain. Features robust mechanical design and environment resistant construction. The six-wheel drive system uses independent suspension for terrain adaptability, with a heavy-duty chassis capable of carrying payloads up to 50kg. Custom PETG flexible wheels allow for tireless operations without risk of puncture, with a custom gear herringbone gear reduction system for optimal torque and speed.</p>
                    
                    <p style="color: var(--text-muted); line-height: 1.6; margin-bottom: 1rem; font-size: 0.9rem;">The design is a modified rocker bogie system inspired by the Curiosity Mars rover. Instead of having all six wheels be based on the same pivot, I implemented an offset four bar linkage (non parallel bars) allowing for an arc movement path of the front two wheels on each side. The back wheel on each side is connected by a central rocker perpendicular to the rockers in the front. This completely independent portion of the rover allows for the same contact principles as the rocker bogie system without a need for linkage between the two sides of the rover, further simplifying and making the design more robust.</p>
                    
                    <p style="color: var(--text-muted); line-height: 1.6; margin-bottom: 1rem; font-size: 0.9rem;">The rover's control system is built on a raspberry pi 3B+ running python with custom nodes for navigation, manipulation, and communication. This pi, connected to an array of sensors and six motor controllers each independently controlling a wheel, allows for navigation of any terrain at high speeds.</p>
                `,
                'vtol': `
                    <h3 style="font-size: 1.2rem; font-weight: 400; color: var(--text-primary); margin-bottom: 0.8rem;">Summary</h3>
                    <p style="color: var(--text-secondary); line-height: 1.6; margin-bottom: 1.5rem;">I'm very interested in planes and especially drones, so after watching quite a few of VTOL build youtube videos, I couldn't resist giving it a try myself. I was heavily inspired by the Boeing V-22 Osprey, an aircraft which I still think is one of the coolest things to have ever flown.</p>
                    
                    <p style="color: var(--text-secondary); line-height: 1.6; margin-bottom: 1.5rem;">When scaling the plane down, there's quite a lot that changes compared to the actual V-22. The main difference is that instead of relying on the gyroscopic forces of the large propellers for stabilization, a smaller RC TOL version must use the actuation servos of the motor pods to control yaw and pitch. This essentially creates a bicopter configuration when the plane is in hover mode. Bicopters are inherently very hard to stabilize, as rotating the motor pods to, for example, change the craft's yaw also alters its pitch and roll due to the shifting thrust direction.</p>
                    
                    <p style="color: var(--text-secondary); line-height: 1.6; margin-bottom: 1.5rem;">Although my plane crashed almost instantly after takeoff, it was able to hover for a few seconds, so I still deem this project a success. :)</p>
                    
                    <h3 style="font-size: 1.1rem; font-weight: 400; color: var(--text-muted); margin-bottom: 0.8rem;">Details</h3>
                    <p style="color: var(--text-muted); line-height: 1.6; margin-bottom: 1rem; font-size: 0.9rem;">Vertical Takeoff and Landing (VTOL) unmanned aerial vehicle designed for versatile operations combining the efficiency of fixed-wing flight with the ease of a quadcopter. The hybrid design combines fixed-wing and rotary-wing configurations, with a lightweight composite core featuring 3D printed and foam framing. The advanced propulsion system uses precise servo-driven PID controlled motor pods, with an integrated payload bay for various mission-specific equipment.</p>
                    
                    <p style="color: var(--text-muted); line-height: 1.6; margin-bottom: 1rem; font-size: 0.9rem;">The VTOL features a custom flight controller. The system includes GPS guidance, radio control systems, and control surfaces along the wing and tail. The bicopter design in hover mode requires rapid PID loops to maintain stability. A bicopter is fundamentally more unstable than a quadcopter because it's underactuated, since two rotors must control three rotational axes (pitch, roll, yaw) by tilting, which causes cross-coupled effects where adjusting one axis unintentionally affects the others. This makes PID tuning very difficult.</p>
                    
                    <p style="color: var(--text-muted); line-height: 1.6; margin-bottom: 1rem; font-size: 0.9rem;">Designed mostly for cargo delivery, VTOL fundamentally allows there to be no tradeoff between ease of takeoff/landing and flight efficiency. Completed flight testing and validation of both VTOL and normal flight mode. Presented at the Berwick Academy Innovation Celebration in 2020. Before final validation could occur, the craft suffered a devastating crash snapping both propellors.</p>
                `,
                'overpass': `
                    <h3 style="font-size: 1.2rem; font-weight: 400; color: var(--text-primary); margin-bottom: 0.8rem;">Summary</h3>
                    <p style="color: var(--text-secondary); line-height: 1.6; margin-bottom: 1.5rem;">Although most of the projects here are robotics related, I'm also interested in civil engineering. Bridge designs fascinate me, especially ones that are truly alien looking and seem like they defy the laws of physics. Of course, none of these crazy bridges defy physics, on the contrary, they usually are hyper considerate of all the physical constraints of holding up a thin walkway hundreds of feet long.</p>
                    
                    <p style="color: var(--text-secondary); line-height: 1.6; margin-bottom: 1.5rem;">I made this bridge before taking any civil engineering classes so I'm honestly not very confident in the structural stability of it. I attempted to overdesign the supports, so from the rudimentary simulations I ran in fusion, it shouldn't collapse under its own weight. I instead put more time in the aesthetic design focus. I go into much more detail on the linked instructables blog, but I wanted to create a gold and white themed walkway with lush greenery under and around it.</p>
                    
                    <p style="color: var(--text-secondary); line-height: 1.6; margin-bottom: 1.5rem;">I learned a lot about the limits of Fusion 360 with this project. Sometimes, especially with larger assemblies with hundreds of subcomponents, weird things happen in CAD. Fortunately, I was able to work past these issues and get some nice looking renders in Blender.</p>
                    
                    <h3 style="font-size: 1.1rem; font-weight: 400; color: var(--text-muted); margin-bottom: 0.8rem;">Details</h3>
                    <p style="color: var(--text-muted); line-height: 1.6; margin-bottom: 1rem; font-size: 0.9rem;">A cable‑stayed pedestrian bridge concept spanning the Cochecho River in Dover, NH, designed to pair practical urban connectivity with sustainability. It shortens a 2,500‑ft pedestrian detour to roughly 200 ft while integrating walkable solar deck tiles, subtle handrail lighting, and planted green ramps that bring vegetation up through the walkway — a concept recognized with <a href="https://www.instructables.com/contest/makeitbridge2023/" target="_blank" rel="noopener noreferrer" style="background: rgba(38, 161, 105, 0.2); padding: 0.1rem 0.3rem; border-radius: 3px; color: var(--success-color); font-weight: 500; text-decoration: none;">First Prize in the Autodesk Instructables Make It Bridge Challenge</a>. Author: Andre ("andre_125"). Entry for the Instructables "Make It Bridge" challenge; concept‑to‑render workflow using Fusion 360 + Blender.</p>

                    <p style="color: var(--text-muted); line-height: 1.6; margin-bottom: 1rem; font-size: 0.9rem;">Located at Cochecho River, Dover, NH — near public pool, Great Bay Community Rowing, and the Children's Museum. Shortens a ~2,500‑ft pedestrian detour to ~200 ft, stitching together two rapidly developing riverbanks.</p>
                    
                    <p style="color: var(--text-muted); line-height: 1.6; margin-bottom: 1rem; font-size: 0.9rem;"><strong>Purpose & Site:</strong> Pedestrian cable‑stayed span with back‑leaning concrete/steel pylons; cables support a steel‑I‑beam deck. ~200 ft deck using five W21 beams with W16 cross‑ties; aluminum walking plates spaced for thermal expansion. Sharp, tilted pylons; continuous handrails; ADA‑compliant green ramp with planted grates.</p>

                    <p style="color: var(--text-muted); line-height: 1.6; margin-bottom: 1rem; font-size: 0.9rem;"><strong>Sustainability & Self‑Power:</strong> Walkable PV surface (~2.2 m × 63 m ≈ 138.6 m²); ~20% efficiency, peak ≈ 27 kW. Deck LEDs (~48 × 5 W ≈ 240 W) + floodlights (4 × 400 W ≈ 1.6 kW) ⇒ ~1.84 kW at night. Even with conservative winter daylight (~3.5 "full sun" hrs), daily PV output exceeds nightly demand; surplus can feed the grid. Preference for recycled steel (EAF‑sourced where possible) and aluminum; concrete mixes enhanced with SCMs (fly ash, slag).</p>

                    <p style="color: var(--text-muted); line-height: 1.6; margin-bottom: 1rem; font-size: 0.9rem;"><strong>Sensors & Lighting:</strong> Temperature sensors (in‑concrete + ambient), vibrating‑wire strain gauges, and people counters at both ends. Low‑profile deck LEDs + pylon floodlights; top beacons for aircraft; occupancy‑aware dimming.</p>

                    <p style="color: var(--text-muted); line-height: 1.6; margin-bottom: 1rem; font-size: 0.9rem;"><strong>Safety & Detailing:</strong> 45‑in code‑compliant guard (OSHA ≥ 42 in), water‑jet/plasma‑cut aluminum or stainless supports, looped modular handrails. Pylon plates with universal‑joint‑style anchors; simpler clamp mounts at deck level for easy service.</p>

                    <p style="color: var(--text-muted); line-height: 1.6; margin-bottom: 1rem; font-size: 0.9rem;"><strong>Constructability Notes:</strong> Slip‑formed, post‑tensionable concrete built on site; back‑leaning geometry provides counter‑thrust to cable tension (no back‑stays needed for pedestrian loads). Recycled steel I‑beams; welded or bolted cross‑ties to accommodate expansion; bolt‑on walkable PV tiles. Steel shell over a soil bed; shade‑tolerant groundcover (e.g., Japanese spurge) and climbers (e.g., English ivy) emerging through Voronoi‑pattern grates.</p>

                    <p style="color: var(--text-muted); line-height: 1.6; margin-bottom: 1rem; font-size: 0.9rem;"><strong>Process & Tools:</strong> Fusion 360 for parametric modeling; generative design explored in an early small‑bridge concept. Blender import (via 3MF add‑on), BlenderKit materials, environment/terrain/water setup, particle‑based grass, added foliage. Initial 3D‑printed footbridge concept was abandoned due to cost/scale and limited community impact; focus shifted to the river‑spanning solution.</p>

                    <p style="color: var(--text-muted); line-height: 1.6; margin-bottom: 1rem; font-size: 0.9rem;"><strong>Outcome:</strong> A community‑linking pedestrian bridge that is energy‑positive, sensor‑aware, and nature‑integrated — pairing practical connectivity with durable detailing and a lighter footprint.</p>
                `,
                'genie': `
                    <h3 style="font-size: 1.2rem; font-weight: 400; color: var(--text-primary); margin-bottom: 0.8rem;">Summary</h3>
                    <p style="color: var(--text-secondary); line-height: 1.6; margin-bottom: 1.5rem;">For a summer internship with Taylor Fresh Farms, I worked closely with the data engineering team to integrate AI into the company's internal processes to boost efficiency. Along with some other document processing projects, my final intern capstone was to both train and design a user interface for an internal tablet application to document inventory.</p>
                    
                    <p style="color: var(--text-secondary); line-height: 1.6; margin-bottom: 1.5rem;">I initially used Swift for this project, but pivoted to ReactJS for a more simplistic design. I had a really great time working on the chat interface and trying to figure out all the closed beta api references.</p>
                    
                    <h3 style="font-size: 1.1rem; font-weight: 400; color: var(--text-muted); margin-bottom: 0.8rem;">Details</h3>
                    <p style="color: var(--text-muted); line-height: 1.6; margin-bottom: 1rem; font-size: 0.9rem;">The goal was to design a Retrieval-Augmented Generation (RAG) Large Language Model system for intelligent inventory management and customer service. Natural language input would be converted to the correct SQL query to search for an item in the database based on the context of this question. This SQL query had to be correct, and also accompanied by an explanation of the results.</p>
                    
                    <p style="color: var(--text-muted); line-height: 1.6; margin-bottom: 1rem; font-size: 0.9rem;">Technical architecture includes fine-tuned LLM models from Databricks optimized for inventory management tasks, real-time data integration with existing inventory systems, natural language processing for customer query understanding, scalable cloud infrastructure for high availability, advanced analytics and reporting capabilities, and chart generation with interactive visuals built in.</p>
                    
                    <p style="color: var(--text-muted); line-height: 1.6; margin-bottom: 1rem; font-size: 0.9rem;">The RAG approach ensures accurate and up-to-date information retrieval while maintaining conversational capabilities. By using RAG model, as long as the queries are correct, there is no risk for hallucination, as all data generated by the model will already be available on the company data storage system. The harvest part of fine tuning was ensuring that SQL queries were correct. To do this, we generated 50 queries and example responses, and used these as benchmarks. At the same time, we picked a few to use for few shot training, giving the model a few base examples in the instruction code to further the success rate. Once the model could answer all fifty examples correctly, it was ready for deployment.</p>
                    
                    <p style="color: var(--text-muted); line-height: 1.6; margin-bottom: 1rem; font-size: 0.9rem;">Successfully deployed limited beta environment. Leadership of the company presented at a conference with an ipad demo for investors. Application works through testflight and will be deployed for public use shortly.</p>
                `,
                'chickencoop': `
                    <h3 style="font-size: 1.2rem; font-weight: 400; color: var(--text-primary); margin-bottom: 0.8rem;">Summary</h3>
                    <p style="color: var(--text-secondary); line-height: 1.6; margin-bottom: 1.5rem;">My family and I have been raising chickens in my backyard since my freshman year in high school. As anyone who is lazy and has outdoor chickens knows, you have to close the door of the chicken coop every night to keep the birds safe inside the coop. In the winter months of New Hampshire, those nights can be freezing cold with two feet of snow, so I wanted to make a door which could close by itself.</p>
                    
                    <p style="color: var(--text-secondary); line-height: 1.6; margin-bottom: 1.5rem;">My goals for the project were to make a door which could close based on the time of day, or through a wifi connection. The door also needed to be safe and not close on top of a chicken if one was entering at the same time as the closing. Using a series of light sensors, current monitors, and springs, I designed a system which could close after nightfall and also be extremely sensitive in its motion path. The whole system was wrapped in a black 3D printed case with manual override buttons.</p>
                    
                    <p style="color: var(--text-secondary); line-height: 1.6; margin-bottom: 1.5rem;">Although this is one of my most professional/finished projects, I've lost many photos of it and I'm in the process of recovering them from my old school email account.</p>
                    
                    <h3 style="font-size: 1.1rem; font-weight: 400; color: var(--text-muted); margin-bottom: 0.8rem;">Details</h3>
                    <p style="color: var(--text-muted); line-height: 1.6; margin-bottom: 1rem; font-size: 0.9rem;">Fully enclosed and marketable product which could automatically close a chicken coop door based on the lighting and time of day. The design features a rigid delrin frame to prevent predators getting in or weather affecting the coop. A fully enclosed box contains motors, arduino, and wiring sealed and interactable with pliable plastic buttons. Arduino wifi capabilities allows for control from a distance or wireless operation based on lighting and time of day. Constant force springs concealed along the door reduce the weight the motor has to pull along the rack.</p>
                    
                    <p style="color: var(--text-muted); line-height: 1.6; margin-bottom: 1rem; font-size: 0.9rem;">Smooth operating door which could run in a dusty environment without clogging or failure of gear contacts. I personally used the door for my flock of six chickens and it hasn't yet failed.</p>
                `,
                'grasshopper': `
                    <div style="background: rgba(255, 215, 0, 0.2); border: 2px solid var(--wip-yellow); border-radius: 4px; padding: 0.75rem 1rem; margin-bottom: 1.5rem; font-size: 0.9rem; color: var(--wip-yellow); display: flex; align-items: center; gap: 0.5rem;">
                        <span style="font-size: 1.2rem;">⚠️</span>
                        <span><strong>Work in Progress:</strong> This project is currently under active development. Stay tuned for updates!</span>
                    </div>
                    
                    <h3 style="font-size: 1.2rem; font-weight: 400; color: var(--text-primary); margin-bottom: 0.8rem;">Summary</h3>
                    <p style="color: var(--text-secondary); line-height: 1.6; margin-bottom: 1.5rem;">Yet another drone design which is currently in progress for the Cornell Physical Intelligence club is what I've dubbed the "grasshopper". This is a continuation of the "Cicada" quadcopter with a complete overhaul of both the electronics and hardware.</p>
                    
                    <p style="color: var(--text-secondary); line-height: 1.6; margin-bottom: 1.5rem;">The goal of this design wasn't as clear cut as the previous "Cicada" drone. I made this craft with an AI first approach and it's optimized for ease of programming and modularity. Although it looks less professional than the last iteration, it performs better in every metric. It's lighter, stiffer, and has more room to mount sensors.</p>
                    
                    <p style="color: var(--text-secondary); line-height: 1.6; margin-bottom: 1.5rem;">My favorite part of this design was the landing legs. These are an optional attachment which should be used when mounting a larger payload on the belly of the drone. These legs, which fold out of the way after takeoff and weigh less than 50 grams in total, are essential to allowing more modularity without compromising flight time or obscuring sensors.</p>
                    
                    <h3 style="font-size: 1.1rem; font-weight: 400; color: var(--text-muted); margin-bottom: 0.8rem;">Details</h3>
                    <p style="color: var(--text-muted); line-height: 1.6; margin-bottom: 1rem; font-size: 0.9rem;">AI-powered autonomous systems testbed designed for development and testing of machine learning algorithms, computer vision, and intelligent control systems. Platform development for autonomous systems research with integrated AI capabilities. More details coming soon as the project progresses.</p>
                `,
                'greenhouse': `
                    <h3 style="font-size: 1.2rem; font-weight: 400; color: var(--text-primary); margin-bottom: 0.8rem;">Summary</h3>
                    <p style="color: var(--text-secondary); line-height: 1.6; margin-bottom: 1.5rem;">My school was interested in remodeling their biggest field, called Fogg Field to be more environmentally sustainable. Working with a group of friends, we brainstormed requirements for our field design. We collected temperature data, soil data, looked at wind, sun and rain statistics for the area, and decided to build a greenhouse spanning half the field with outdoor planters.</p>
                    
                    <p style="color: var(--text-secondary); line-height: 1.6; margin-bottom: 1.5rem;">I was tasked with building the design in CAD and rendering it for our final presentation. I spent more time in Blender, as opposed to my other projects which mostly utilize Fusion 360. Through this project, I learned how environmental data can directly inform architectural design decisions, and how complicated architectural/structural design can really be.</p>
                    
                    <h3 style="font-size: 1.1rem; font-weight: 400; color: var(--text-muted); margin-bottom: 0.8rem;">Details</h3>
                    <p style="color: var(--text-muted); line-height: 1.6; margin-bottom: 1rem; font-size: 0.9rem;">Comprehensive greenhouse and recreation facility design for Fogg Field, emphasizing sustainable food production, community engagement, and energy efficiency. Collaborated with Cam (Food & Agriculture) and Jamie (Materials & Layout) on this multidisciplinary project.</p>
                    
                    <p style="color: var(--text-muted); line-height: 1.6; margin-bottom: 1rem; font-size: 0.9rem;">Our approach followed a systematic design methodology: brainstorming focused on client goals, sketching initial concepts on paper, transferring designs into Fusion 360 for detailed 3D modeling, and rendering the final model in Blender for presentation-quality visuals.</p>
                    
                    <p style="color: var(--text-muted); line-height: 1.6; margin-bottom: 1rem; font-size: 0.9rem;">Through systematic evaluation of pine wood, cedar wood, aluminum, and PVC using decision matrices, we selected aluminum for the greenhouse framework and cedar for outdoor garden beds. Double-walled polycarbonate siding provides superior thermal insulation while maximizing light transmission.</p>
                    
                    <p style="color: var(--text-muted); line-height: 1.6; margin-bottom: 1rem; font-size: 0.9rem;">Facility specifications include 6,375 sq ft total greenhouse space with 5,089 sq ft of planting area, 500 sq ft storage shed for equipment and battery system, 64 hanging gardens adding 194 additional square feet of growing space, strategic path layout maximizing accessibility while preserving growing area, and estimated production capacity of ~1,200 lbs from greenhouse plus ~1,000 lbs from outdoor beds.</p>
                    
                    <p style="color: var(--text-muted); line-height: 1.6; margin-bottom: 1rem; font-size: 0.9rem;">Solar-powered facility featuring 29 south-facing panels generating 3,640 watts to power pumps, sensors, and nighttime path lighting. Battery storage system located in the shed enables 24/7 operation. The design emphasizes passive heating through water barrels (exploiting water's high specific heat capacity) and thermal insulation via double-walled polycarbonate, eliminating the need for active heating systems.</p>
                    
                    <p style="color: var(--text-muted); line-height: 1.6; margin-bottom: 1rem; font-size: 0.9rem;">This design combines food production, community recreation, and education in a carbon-neutral facility. The year-round growing capability, solar power integration, and passive thermal management systems demonstrate engineering solutions that prioritize environmental responsibility while meeting community needs.</p>
                `
            };
            
            return projectDetails[projectName] || `
                <h2 style="font-size: 1.5rem; font-weight: 400; color: var(--text-primary); margin-bottom: 1rem;">Project Overview</h2>
                <p style="color: var(--text-secondary); line-height: 1.6; margin-bottom: 1.5rem;">This project showcases innovative engineering solutions and technical expertise. Detailed information about the project's design, implementation, and outcomes will be available soon.</p>
                
                <h3 style="font-size: 1.2rem; font-weight: 400; color: var(--text-primary); margin-bottom: 0.8rem;">Key Details</h3>
                <ul style="color: var(--text-secondary); line-height: 1.6; margin-bottom: 1.5rem; padding-left: 1.5rem;">
                    <li>Custom engineering solutions</li>
                    <li>Innovative design approach</li>
                    <li>Technical implementation</li>
                    <li>Performance optimization</li>
                </ul>
                
                <h3 style="font-size: 1.2rem; font-weight: 400; color: var(--text-primary); margin-bottom: 0.8rem;">Outcomes</h3>
                <p style="color: var(--text-secondary); line-height: 1.6;">Project successfully completed with measurable improvements in efficiency, performance, and user experience. Results demonstrate the effectiveness of the engineering approach and technical solutions implemented.</p>
            `;
        }
        
        // Detect local file origin and provide fallback captions manifest
        const IS_FILE_ORIGIN = window.location.protocol === 'file:';
        const LOCAL_CAPTIONS = {
            'project-galleries/ExtraImages_3DPrinter/': {
                Image1: 'CoreXY mechanism assembly showing the belt configuration and motor mounting system',
                Image2: 'Custom extruder design with dual gear drive for improved filament control',
                Image3: 'Completed printer build with heated bed and print surface ready for operation'
            },
            'project-galleries/ExtraImages_Drone/': {
                Image1: 'CAD view of the V2 drone',
                Image2: 'Wireframe view of V2 drone',
                Image3: 'Novel arm mounting system to cut weight',
                Image4: 'Test bed for electronics running ROS2 communicating through MAVLink'
            },
            'project-galleries/ExtraImages_Hydroponics/': {
                Image1: 'Schematics for the final design allowing for offset layers of branches',
                Image2: 'Final design testing - Success! System operational with water circulation',
                Image3: 'Plant pods with Rockwool growing medium test fit',
                Image4: 'Test fit of quick disconnect seal'
            },
            'project-galleries/ExtraImages_Overpass/': {
                Image1: 'Early design using topgraphy optimization',
                Image2: 'Full Cad Model',
                Image3: 'View from the entrance of the walkway',
                Image4: 'Greenery growing under walkways'
            },
            'project-galleries/ExtraImages_VTOL/': {
                Image1: 'Early design using topgraphy optimization',
                Image2: 'Design layout without wing skin attatched',
                Image3: 'Rotating side pods enableing VTOL function',
                Image4: 'Full build'
            },
            'project-galleries/ExtraImages_GenieChatbot/': {
                Image1: 'Application flowchart planning',
                Image2: 'Sequence of events in databricks space'
            },
            'project-galleries/ExtraImages_VEXRobot/': {
                Image1: 'Racheting side intake wheels',
                Image2: 'Final design being fitted on the competition floor'
            },
            'project-galleries/ExtraImages_Rover/': {
                Image1: '1:3 scale 3D printed kinematic model',
                Image2: 'Linkage system fitting for side rocker',
                Image3: 'Airless flexible wheels using tape for extra grip',
                Image4: 'Back Rocker System'
            },
            'project-galleries/ExtraImages_Greenhouse/': {
                Image1: 'Birds eye view of school field with proposed greenhouse',
                Image2: 'Solar panels calculated to sustain heat in the greenhouse',
                Image3: 'Field portion of greenhouse open for recreation'
            },
            'project-galleries/ExtraImages_Grasshopper/': {
                Image1: 'Drone with landing legs down',
                Image2: 'Drone with landing legs up'
            }
        };

        // Load captions from text files - PRIMARY SOURCE
        async function loadImageCaptions(images, folderPath) {
            console.log('Loading captions for folder:', folderPath);
            for (let i = 0; i < images.length; i++) {
                try {
                    const imageName = images[i].src.split('/').pop().split('.')[0];
                    const captionPath = `${folderPath}${imageName}.txt`;
                    console.log(`Loading caption for ${imageName} from: ${captionPath}`);
                    
                    // If running locally via file://, use embedded captions manifest
                    if (IS_FILE_ORIGIN) {
                        const localCaption = (LOCAL_CAPTIONS[folderPath] && LOCAL_CAPTIONS[folderPath][imageName]) || '';
                        if (localCaption) {
                            images[i].description = localCaption;
                            console.log(`✅ (local) Updated description for ${imageName}:`, images[i].description);
                        } else {
                            images[i].description = `Project image ${i + 1}`;
                            console.log(`⚠️ (local) Missing caption for ${imageName}, using fallback`);
                        }
                        continue;
                    }

                    // Hosted path: fetch from text files
                    const response = await fetch(captionPath);
                    console.log(`Response status for ${imageName}:`, response.status);
                    
                    if (response.ok) {
                        const caption = await response.text();
                        console.log(`Raw caption for ${imageName}:`, JSON.stringify(caption));
                        console.log(`Trimmed caption for ${imageName}:`, JSON.stringify(caption.trim()));
                        
                        if (caption.trim()) {
                            images[i].description = caption.trim();
                            console.log(`✅ Updated description for ${imageName}:`, images[i].description);
                        } else {
                            // Empty file: try manifest fallback then generic
                            const localCaption = (LOCAL_CAPTIONS[folderPath] && LOCAL_CAPTIONS[folderPath][imageName]) || '';
                            images[i].description = localCaption || `Project image ${i + 1}`;
                            console.log(`⚠️ Empty caption for ${imageName}, using ${localCaption ? 'manifest fallback' : 'generic'} caption`);
                        }
                    } else {
                        // Fetch failed: try manifest fallback then generic
                        const localCaption = (LOCAL_CAPTIONS[folderPath] && LOCAL_CAPTIONS[folderPath][imageName]) || '';
                        images[i].description = localCaption || `Project image ${i + 1}`;
                        console.log(`❌ Failed to load caption for ${imageName}, using ${localCaption ? 'manifest fallback' : 'generic'} caption`);
                    }
                } catch (error) {
                    // Network error: try manifest fallback then generic
                    const imageName = images[i].src.split('/').pop().split('.')[0];
                    const localCaption = (LOCAL_CAPTIONS[folderPath] && LOCAL_CAPTIONS[folderPath][imageName]) || '';
                    images[i].description = localCaption || `Project image ${i + 1}`;
                    console.log(`❌ Error loading caption for ${images[i].src}, using ${localCaption ? 'manifest fallback' : 'generic'} caption:`, error);
                }
            }
            console.log('Final images array:', images);
        }

        // Load project images function
        async function loadProjectImages(projectName, container) {
            // Map project names to their folder names
            const projectFolderMap = {
                '3dprinter': 'ExtraImages_3DPrinter',
                'drone': 'ExtraImages_Drone',
                'grasshopper': 'ExtraImages_Grasshopper',
                'greenhouse': 'ExtraImages_Greenhouse',
                'epiccamp': 'ExtraImages_EPICCamp',
                'genie': 'ExtraImages_GenieChatbot',
                'hydroponics': 'ExtraImages_Hydroponics',
                'overpass': 'ExtraImages_Overpass',
                'rover': 'ExtraImages_Rover',
                'vex': 'ExtraImages_VEXRobot',
                'vtol': 'ExtraImages_VTOL',
                'chickencoop': 'ExtraImages_ChickenCoop'
            };
            
            const folderName = projectFolderMap[projectName];
            if (!folderName) return;
            
            // 3D printer project images
            if (projectName === '3dprinter') {
                const images = [
                    {
                        src: 'project-galleries/ExtraImages_3DPrinter/Image1.png',
                        description: '' // Will be loaded from text file
                    },
                    {
                        src: 'project-galleries/ExtraImages_3DPrinter/Image2.png',
                        description: '' // Will be loaded from text file
                    },
                    {
                        src: 'project-galleries/ExtraImages_3DPrinter/Image3.png',
                        description: '' // Will be loaded from text file
                    }
                ];
                
                // Load captions from text files - PRIMARY SOURCE
                await loadImageCaptions(images, 'project-galleries/ExtraImages_3DPrinter/');
                
                images.forEach(imageData => {
                    const imageCard = document.createElement('div');
                    imageCard.className = 'project-card gallery-card';
                    imageCard.style.width = '100%';
                    imageCard.style.height = 'auto';
                    imageCard.style.backgroundColor = 'var(--card-bg)';
                    imageCard.style.border = (1 * 1.15) + 'px solid var(--border-color)'; // Scale border 1.15x
                    imageCard.style.borderRadius = '8px';
                    imageCard.style.overflow = 'hidden';
                    imageCard.style.cursor = 'default';
                    imageCard.style.pointerEvents = 'none'; // Disable all interactions
                    imageCard.style.transform = 'none'; // Override hover transform
                    imageCard.style.transition = 'none'; // Override hover transition
                    
                    const imageContainer = document.createElement('div');
                    imageContainer.style.height = '200px';
                    imageContainer.style.backgroundColor = 'var(--darker-bg)';
                    imageContainer.style.borderBottom = '2px solid var(--border-color)';
                    imageContainer.style.display = 'flex';
                    imageContainer.style.alignItems = 'center';
                    imageContainer.style.justifyContent = 'center';
                    imageContainer.style.overflow = 'hidden';
                    
                    const img = document.createElement('img');
                    img.src = imageData.src;
                    img.alt = imageData.description;
                    img.loading = 'lazy';
                    img.style.width = '100%';
                    img.style.height = '100%';
                    img.style.objectFit = 'cover';
                    img.style.objectPosition = 'center';
                    
                    const description = document.createElement('div');
                    description.style.padding = '1rem';
                    description.style.backgroundColor = 'var(--card-bg)';
                    description.style.fontSize = '0.9rem';
                    description.style.color = 'var(--text-secondary)';
                    description.style.lineHeight = '1.4';
                    description.textContent = imageData.description;
                    
                    imageContainer.appendChild(img);
                    imageCard.appendChild(imageContainer);
                    imageCard.appendChild(description);
                    container.appendChild(imageCard);
                });
            }
            
            // Drone project images
            if (projectName === 'drone') {
                const images = [
                    {
                        src: 'project-galleries/ExtraImages_Drone/Image1.png',
                        description: '' // Will be loaded from text file
                    },
                    {
                        src: 'project-galleries/ExtraImages_Drone/Image2.png',
                        description: '' // Will be loaded from text file
                    },
                    {
                        src: 'project-galleries/ExtraImages_Drone/Image3.png',
                        description: '' // Will be loaded from text file
                    },
                    {
                        src: 'project-galleries/ExtraImages_Drone/Image4.png',
                        description: '' // Will be loaded from text file
                    }
                ];
                
                // Load captions from text files - PRIMARY SOURCE
                await loadImageCaptions(images, 'project-galleries/ExtraImages_Drone/');
                
                images.forEach(imageData => {
                    const imageCard = document.createElement('div');
                    imageCard.className = 'project-card gallery-card';
                    imageCard.style.width = '100%';
                    imageCard.style.height = 'auto';
                    imageCard.style.backgroundColor = 'var(--card-bg)';
                    imageCard.style.border = (1 * 1.15) + 'px solid var(--border-color)'; // Scale border 1.15x
                    imageCard.style.borderRadius = '8px';
                    imageCard.style.overflow = 'hidden';
                    imageCard.style.cursor = 'default';
                    imageCard.style.pointerEvents = 'none'; // Disable all interactions
                    imageCard.style.transform = 'none'; // Override hover transform
                    imageCard.style.transition = 'none'; // Override hover transition
                    
                    const imageContainer = document.createElement('div');
                    imageContainer.style.height = '200px';
                    imageContainer.style.backgroundColor = 'var(--darker-bg)';
                    imageContainer.style.borderBottom = '2px solid var(--border-color)';
                    imageContainer.style.display = 'flex';
                    imageContainer.style.alignItems = 'center';
                    imageContainer.style.justifyContent = 'center';
                    imageContainer.style.overflow = 'hidden';
                    
                    const img = document.createElement('img');
                    img.src = imageData.src;
                    img.alt = imageData.description;
                    img.loading = 'lazy';
                    img.style.width = '100%';
                    img.style.height = '100%';
                    img.style.objectFit = 'cover';
                    img.style.objectPosition = 'center';
                    
                    const description = document.createElement('div');
                    description.style.padding = '1rem';
                    description.style.backgroundColor = 'var(--card-bg)';
                    description.style.fontSize = '0.9rem';
                    description.style.color = 'var(--text-secondary)';
                    description.style.lineHeight = '1.4';
                    description.textContent = imageData.description;
                    
                    imageContainer.appendChild(img);
                    imageCard.appendChild(imageContainer);
                    imageCard.appendChild(description);
                    container.appendChild(imageCard);
                });
            }
            
            // Greenhouse project images
            if (projectName === 'greenhouse') {
                const images = [
                    {
                        src: 'project-galleries/ExtraImages_Greenhouse/Image1.png',
                        description: '' // Will be loaded from text file
                    },
                    {
                        src: 'project-galleries/ExtraImages_Greenhouse/Image2.png',
                        description: '' // Will be loaded from text file
                    },
                    {
                        src: 'project-galleries/ExtraImages_Greenhouse/Image3.png',
                        description: '' // Will be loaded from text file
                    }
                ];
                
                // Load captions from text files - PRIMARY SOURCE
                await loadImageCaptions(images, 'project-galleries/ExtraImages_Greenhouse/');
                
                images.forEach(imageData => {
                    const imageCard = document.createElement('div');
                    imageCard.className = 'project-card gallery-card';
                    imageCard.style.width = '100%';
                    imageCard.style.height = 'auto';
                    imageCard.style.backgroundColor = 'var(--card-bg)';
                    imageCard.style.border = (1 * 1.15) + 'px solid var(--border-color)'; // Scale border 1.15x
                    imageCard.style.borderRadius = '8px';
                    imageCard.style.overflow = 'hidden';
                    imageCard.style.cursor = 'default';
                    imageCard.style.pointerEvents = 'none'; // Disable all interactions
                    imageCard.style.transform = 'none'; // Override hover transform
                    imageCard.style.transition = 'none'; // Override hover transition
                    
                    const imageContainer = document.createElement('div');
                    imageContainer.style.height = '200px';
                    imageContainer.style.backgroundColor = 'var(--darker-bg)';
                    imageContainer.style.borderBottom = '2px solid var(--border-color)';
                    imageContainer.style.display = 'flex';
                    imageContainer.style.alignItems = 'center';
                    imageContainer.style.justifyContent = 'center';
                    imageContainer.style.overflow = 'hidden';
                    
                    const img = document.createElement('img');
                    img.src = imageData.src;
                    img.alt = imageData.description;
                    img.loading = 'lazy';
                    img.style.width = '100%';
                    img.style.height = '100%';
                    img.style.objectFit = 'cover';
                    img.style.objectPosition = 'center';
                    
                    const description = document.createElement('div');
                    description.style.padding = '1rem';
                    description.style.backgroundColor = 'var(--card-bg)';
                    description.style.fontSize = '0.9rem';
                    description.style.color = 'var(--text-secondary)';
                    description.style.lineHeight = '1.4';
                    description.textContent = imageData.description;
                    
                    imageContainer.appendChild(img);
                    imageCard.appendChild(imageContainer);
                    imageCard.appendChild(description);
                    container.appendChild(imageCard);
                });
            }
            
            // Grasshopper project images
            if (projectName === 'grasshopper') {
                const images = [
                    {
                        src: 'project-galleries/ExtraImages_Grasshopper/Image1.png',
                        description: '' // Will be loaded from text file
                    },
                    {
                        src: 'project-galleries/ExtraImages_Grasshopper/Image2.png',
                        description: '' // Will be loaded from text file
                    }
                ];
                
                // Load captions from text files - PRIMARY SOURCE
                await loadImageCaptions(images, 'project-galleries/ExtraImages_Grasshopper/');
                
                images.forEach(imageData => {
                    const imageCard = document.createElement('div');
                    imageCard.className = 'project-card gallery-card';
                    imageCard.style.width = '100%';
                    imageCard.style.height = 'auto';
                    imageCard.style.backgroundColor = 'var(--card-bg)';
                    imageCard.style.border = (1 * 1.15) + 'px solid var(--border-color)'; // Scale border 1.15x
                    imageCard.style.borderRadius = '8px';
                    imageCard.style.overflow = 'hidden';
                    imageCard.style.cursor = 'default';
                    imageCard.style.pointerEvents = 'none'; // Disable all interactions
                    imageCard.style.transform = 'none'; // Override hover transform
                    imageCard.style.transition = 'none'; // Override hover transition
                    
                    const imageContainer = document.createElement('div');
                    imageContainer.style.height = '200px';
                    imageContainer.style.backgroundColor = 'var(--darker-bg)';
                    imageContainer.style.borderBottom = '2px solid var(--border-color)';
                    imageContainer.style.display = 'flex';
                    imageContainer.style.alignItems = 'center';
                    imageContainer.style.justifyContent = 'center';
                    imageContainer.style.overflow = 'hidden';
                    
                    const img = document.createElement('img');
                    img.src = imageData.src;
                    img.alt = imageData.description;
                    img.loading = 'lazy';
                    img.style.width = '100%';
                    img.style.height = '100%';
                    img.style.objectFit = 'cover';
                    img.style.objectPosition = 'center';
                    
                    const description = document.createElement('div');
                    description.style.padding = '1rem';
                    description.style.backgroundColor = 'var(--card-bg)';
                    description.style.fontSize = '0.9rem';
                    description.style.color = 'var(--text-secondary)';
                    description.style.lineHeight = '1.4';
                    description.textContent = imageData.description;
                    
                    imageContainer.appendChild(img);
                    imageCard.appendChild(imageContainer);
                    imageCard.appendChild(description);
                    container.appendChild(imageCard);
                });
            }
            
            // Hydroponics project images
            if (projectName === 'hydroponics') {
                const images = [
                    {
                        src: 'project-galleries/ExtraImages_Hydroponics/Image1.jpg',
                        description: '' // Will be loaded from text file
                    },
                    {
                        src: 'project-galleries/ExtraImages_Hydroponics/Image2.png',
                        description: '' // Will be loaded from text file
                    },
                    {
                        src: 'project-galleries/ExtraImages_Hydroponics/Image3.png',
                        description: '' // Will be loaded from text file
                    },
                    {
                        src: 'project-galleries/ExtraImages_Hydroponics/Image4.png',
                        description: '' // Will be loaded from text file
                    }
                ];
                
                // Load captions from text files - PRIMARY SOURCE
                await loadImageCaptions(images, 'project-galleries/ExtraImages_Hydroponics/');
                
                images.forEach(imageData => {
                    const imageCard = document.createElement('div');
                    imageCard.className = 'project-card gallery-card';
                    imageCard.style.width = '100%';
                    imageCard.style.height = 'auto';
                    imageCard.style.backgroundColor = 'var(--card-bg)';
                    imageCard.style.border = (1 * 1.15) + 'px solid var(--border-color)'; // Scale border 1.15x
                    imageCard.style.borderRadius = '8px';
                    imageCard.style.overflow = 'hidden';
                    imageCard.style.cursor = 'default';
                    imageCard.style.pointerEvents = 'none'; // Disable all interactions
                    imageCard.style.transform = 'none'; // Override hover transform
                    imageCard.style.transition = 'none'; // Override hover transition
                    
                    const imageContainer = document.createElement('div');
                    imageContainer.style.height = '200px';
                    imageContainer.style.backgroundColor = 'var(--darker-bg)';
                    imageContainer.style.borderBottom = '2px solid var(--border-color)';
                    imageContainer.style.display = 'flex';
                    imageContainer.style.alignItems = 'center';
                    imageContainer.style.justifyContent = 'center';
                    imageContainer.style.overflow = 'hidden';
                    
                    const img = document.createElement('img');
                    img.src = imageData.src;
                    img.alt = imageData.description;
                    img.loading = 'lazy';
                    img.style.width = '100%';
                    img.style.height = '100%';
                    img.style.objectFit = 'cover';
                    img.style.objectPosition = 'center';
                    
                    const description = document.createElement('div');
                    description.style.padding = '1rem';
                    description.style.backgroundColor = 'var(--card-bg)';
                    description.style.fontSize = '0.9rem';
                    description.style.color = 'var(--text-secondary)';
                    description.style.lineHeight = '1.4';
                    description.textContent = imageData.description;
                    
                    imageContainer.appendChild(img);
                    imageCard.appendChild(imageContainer);
                    imageCard.appendChild(description);
                    container.appendChild(imageCard);
                });
            }

            // VTOL project images
            if (projectName === 'vtol') {
                const images = [
                    {
                        src: 'project-galleries/ExtraImages_VTOL/Image1.png',
                        description: '' // Will be loaded from text file
                    },
                    {
                        src: 'project-galleries/ExtraImages_VTOL/Image2.png',
                        description: '' // Will be loaded from text file
                    },
                    {
                        src: 'project-galleries/ExtraImages_VTOL/Image3.png',
                        description: '' // Will be loaded from text file
                    },
                    {
                        src: 'project-galleries/ExtraImages_VTOL/Image4.png',
                        description: '' // Will be loaded from text file
                    }
                ];
                
                // Load captions from text files - PRIMARY SOURCE
                await loadImageCaptions(images, 'project-galleries/ExtraImages_VTOL/');
                
                images.forEach(imageData => {
                    const imageCard = document.createElement('div');
                    imageCard.className = 'project-card gallery-card';
                    imageCard.style.width = '100%';
                    imageCard.style.height = 'auto';
                    imageCard.style.backgroundColor = 'var(--card-bg)';
                    imageCard.style.border = (1 * 1.15) + 'px solid var(--border-color)';
                    imageCard.style.borderRadius = '8px';
                    imageCard.style.overflow = 'hidden';
                    imageCard.style.cursor = 'default';
                    imageCard.style.pointerEvents = 'none';
                    imageCard.style.transform = 'none';
                    imageCard.style.transition = 'none';
                    
                    const imageContainer = document.createElement('div');
                    imageContainer.style.height = '200px';
                    imageContainer.style.backgroundColor = 'var(--darker-bg)';
                    imageContainer.style.borderBottom = '2px solid var(--border-color)';
                    imageContainer.style.display = 'flex';
                    imageContainer.style.alignItems = 'center';
                    imageContainer.style.justifyContent = 'center';
                    imageContainer.style.overflow = 'hidden';
                    
                    const img = document.createElement('img');
                    img.src = imageData.src;
                    img.alt = imageData.description;
                    img.loading = 'lazy';
                    img.style.width = '100%';
                    img.style.height = '100%';
                    img.style.objectFit = 'cover';
                    img.style.objectPosition = 'center';
                    
                    const description = document.createElement('div');
                    description.style.padding = '1rem';
                    description.style.backgroundColor = 'var(--card-bg)';
                    description.style.fontSize = '0.9rem';
                    description.style.color = 'var(--text-secondary)';
                    description.style.lineHeight = '1.4';
                    description.textContent = imageData.description;
                    
                    imageContainer.appendChild(img);
                    imageCard.appendChild(imageContainer);
                    imageCard.appendChild(description);
                    container.appendChild(imageCard);
                });
            }

            // Overpass project images
            if (projectName === 'overpass') {
                const images = [
                    {
                        src: 'project-galleries/ExtraImages_Overpass/Image1.png',
                        description: '' // Will be loaded from text file
                    },
                    {
                        src: 'project-galleries/ExtraImages_Overpass/Image2.png',
                        description: '' // Will be loaded from text file
                    },
                    {
                        src: 'project-galleries/ExtraImages_Overpass/Image3.png',
                        description: '' // Will be loaded from text file
                    },
                    {
                        src: 'project-galleries/ExtraImages_Overpass/Image4.png',
                        description: '' // Will be loaded from text file
                    }
                ];
                
                // Load captions from text files - PRIMARY SOURCE
                await loadImageCaptions(images, 'project-galleries/ExtraImages_Overpass/');
                
                images.forEach(imageData => {
                    const imageCard = document.createElement('div');
                    imageCard.className = 'project-card gallery-card';
                    imageCard.style.width = '100%';
                    imageCard.style.height = 'auto';
                    imageCard.style.backgroundColor = 'var(--card-bg)';
                    imageCard.style.border = (1 * 1.15) + 'px solid var(--border-color)';
                    imageCard.style.borderRadius = '8px';
                    imageCard.style.overflow = 'hidden';
                    imageCard.style.cursor = 'default';
                    imageCard.style.pointerEvents = 'none';
                    imageCard.style.transform = 'none';
                    imageCard.style.transition = 'none';
                    
                    const imageContainer = document.createElement('div');
                    imageContainer.style.height = '200px';
                    imageContainer.style.backgroundColor = 'var(--darker-bg)';
                    imageContainer.style.borderBottom = '2px solid var(--border-color)';
                    imageContainer.style.display = 'flex';
                    imageContainer.style.alignItems = 'center';
                    imageContainer.style.justifyContent = 'center';
                    imageContainer.style.overflow = 'hidden';
                    
                    const img = document.createElement('img');
                    img.src = imageData.src;
                    img.alt = imageData.description;
                    img.loading = 'lazy';
                    img.style.width = '100%';
                    img.style.height = '100%';
                    img.style.objectFit = 'cover';
                    img.style.objectPosition = 'center';
                    
                    const description = document.createElement('div');
                    description.style.padding = '1rem';
                    description.style.backgroundColor = 'var(--card-bg)';
                    description.style.fontSize = '0.9rem';
                    description.style.color = 'var(--text-secondary)';
                    description.style.lineHeight = '1.4';
                    description.textContent = imageData.description;
                    
                    imageContainer.appendChild(img);
                    imageCard.appendChild(imageContainer);
                    imageCard.appendChild(description);
                    container.appendChild(imageCard);
                });
            }

            // Genie Chatbot project images
            if (projectName === 'genie') {
                const images = [
                    {
                        src: 'project-galleries/ExtraImages_GenieChatbot/Image1.png',
                        description: '' // Will be loaded from text file
                    },
                    {
                        src: 'project-galleries/ExtraImages_GenieChatbot/Image2.png',
                        description: '' // Will be loaded from text file
                    }
                ];
                
                await loadImageCaptions(images, 'project-galleries/ExtraImages_GenieChatbot/');
                
                images.forEach(imageData => {
                    const imageCard = document.createElement('div');
                    imageCard.className = 'project-card gallery-card';
                    imageCard.style.width = '100%';
                    imageCard.style.height = 'auto';
                    imageCard.style.backgroundColor = 'var(--card-bg)';
                    imageCard.style.border = (1 * 1.15) + 'px solid var(--border-color)';
                    imageCard.style.borderRadius = '8px';
                    imageCard.style.overflow = 'hidden';
                    imageCard.style.cursor = 'default';
                    imageCard.style.pointerEvents = 'none';
                    imageCard.style.transform = 'none';
                    imageCard.style.transition = 'none';
                    
                    const imageContainer = document.createElement('div');
                    imageContainer.style.height = '200px';
                    imageContainer.style.backgroundColor = 'var(--darker-bg)';
                    imageContainer.style.borderBottom = '2px solid var(--border-color)';
                    imageContainer.style.display = 'flex';
                    imageContainer.style.alignItems = 'center';
                    imageContainer.style.justifyContent = 'center';
                    imageContainer.style.overflow = 'hidden';
                    
                    const img = document.createElement('img');
                    img.src = imageData.src;
                    img.alt = imageData.description;
                    img.loading = 'lazy';
                    img.style.width = '100%';
                    img.style.height = '100%';
                    img.style.objectFit = 'cover';
                    img.style.objectPosition = 'center';
                    
                    const description = document.createElement('div');
                    description.style.padding = '1rem';
                    description.style.backgroundColor = 'var(--card-bg)';
                    description.style.fontSize = '0.9rem';
                    description.style.color = 'var(--text-secondary)';
                    description.style.lineHeight = '1.4';
                    description.textContent = imageData.description;
                    
                    imageContainer.appendChild(img);
                    imageCard.appendChild(imageContainer);
                    imageCard.appendChild(description);
                    container.appendChild(imageCard);
                });
            }

            // VEX Robot project images
            if (projectName === 'vex') {
                const images = [
                    {
                        src: 'project-galleries/ExtraImages_VEXRobot/Image1.png',
                        description: '' // Will be loaded from text file
                    },
                    {
                        src: 'project-galleries/ExtraImages_VEXRobot/Image2.png',
                        description: '' // Will be loaded from text file
                    }
                ];
                
                await loadImageCaptions(images, 'project-galleries/ExtraImages_VEXRobot/');
                
                images.forEach(imageData => {
                    const imageCard = document.createElement('div');
                    imageCard.className = 'project-card gallery-card';
                    imageCard.style.width = '100%';
                    imageCard.style.height = 'auto';
                    imageCard.style.backgroundColor = 'var(--card-bg)';
                    imageCard.style.border = (1 * 1.15) + 'px solid var(--border-color)';
                    imageCard.style.borderRadius = '8px';
                    imageCard.style.overflow = 'hidden';
                    imageCard.style.cursor = 'default';
                    imageCard.style.pointerEvents = 'none';
                    imageCard.style.transform = 'none';
                    imageCard.style.transition = 'none';
                    
                    const imageContainer = document.createElement('div');
                    imageContainer.style.height = '200px';
                    imageContainer.style.backgroundColor = 'var(--darker-bg)';
                    imageContainer.style.borderBottom = '2px solid var(--border-color)';
                    imageContainer.style.display = 'flex';
                    imageContainer.style.alignItems = 'center';
                    imageContainer.style.justifyContent = 'center';
                    imageContainer.style.overflow = 'hidden';
                    
                    const img = document.createElement('img');
                    img.src = imageData.src;
                    img.alt = imageData.description;
                    img.loading = 'lazy';
                    img.style.width = '100%';
                    img.style.height = '100%';
                    img.style.objectFit = 'cover';
                    img.style.objectPosition = 'center';
                    
                    const description = document.createElement('div');
                    description.style.padding = '1rem';
                    description.style.backgroundColor = 'var(--card-bg)';
                    description.style.fontSize = '0.9rem';
                    description.style.color = 'var(--text-secondary)';
                    description.style.lineHeight = '1.4';
                    description.textContent = imageData.description;
                    
                    imageContainer.appendChild(img);
                    imageCard.appendChild(imageContainer);
                    imageCard.appendChild(description);
                    container.appendChild(imageCard);
                });
            }

            // Rover project images
            if (projectName === 'rover') {
                const images = [
                    {
                        src: 'project-galleries/ExtraImages_Rover/Image1.png',
                        description: '' // Will be loaded from text file
                    },
                    {
                        src: 'project-galleries/ExtraImages_Rover/Image2.png',
                        description: '' // Will be loaded from text file
                    },
                    {
                        src: 'project-galleries/ExtraImages_Rover/Image3.png',
                        description: '' // Will be loaded from text file
                    },
                    {
                        src: 'project-galleries/ExtraImages_Rover/Image4.png',
                        description: '' // Will be loaded from text file
                    }
                ];
                
                await loadImageCaptions(images, 'project-galleries/ExtraImages_Rover/');
                
                images.forEach(imageData => {
                    const imageCard = document.createElement('div');
                    imageCard.className = 'project-card gallery-card';
                    imageCard.style.width = '100%';
                    imageCard.style.height = 'auto';
                    imageCard.style.backgroundColor = 'var(--card-bg)';
                    imageCard.style.border = (1 * 1.15) + 'px solid var(--border-color)';
                    imageCard.style.borderRadius = '8px';
                    imageCard.style.overflow = 'hidden';
                    imageCard.style.cursor = 'default';
                    imageCard.style.pointerEvents = 'none';
                    imageCard.style.transform = 'none';
                    imageCard.style.transition = 'none';
                    
                    const imageContainer = document.createElement('div');
                    imageContainer.style.height = '200px';
                    imageContainer.style.backgroundColor = 'var(--darker-bg)';
                    imageContainer.style.borderBottom = '2px solid var(--border-color)';
                    imageContainer.style.display = 'flex';
                    imageContainer.style.alignItems = 'center';
                    imageContainer.style.justifyContent = 'center';
                    imageContainer.style.overflow = 'hidden';
                    
                    const img = document.createElement('img');
                    img.src = imageData.src;
                    img.alt = imageData.description;
                    img.loading = 'lazy';
                    img.style.width = '100%';
                    img.style.height = '100%';
                    img.style.objectFit = 'cover';
                    img.style.objectPosition = 'center';
                    
                    const description = document.createElement('div');
                    description.style.padding = '1rem';
                    description.style.backgroundColor = 'var(--card-bg)';
                    description.style.fontSize = '0.9rem';
                    description.style.color = 'var(--text-secondary)';
                    description.style.lineHeight = '1.4';
                    description.textContent = imageData.description;
                    
                    imageContainer.appendChild(img);
                    imageCard.appendChild(imageContainer);
                    imageCard.appendChild(description);
                    container.appendChild(imageCard);
                });
            }
        }
    </script>
</body>
</html>

